Main product image (Product page)	1000 × 1000 px বা 1200 × 1200 px
Thumbnail / Category page	300 × 300 px বা 400 × 400 px
Zoom-enabled product image	1500 × 1500 px বা 2000 × 2000 px
Banner-like hero product	1600 × 900 px বা 1920 × 1080 px


[User opens Product Page]
            │
            ▼
   ProductDetailView.get()
   ├─ Fetch Product (id, slug)
   ├─ Fetch related products
   ├─ If variant != "None":
   │     ├─ Fetch all variants
   │     ├─ Pick default variant
   │     ├─ Fetch sizes (group by size)
   │     └─ Fetch colors (for default size)
            │
            ▼
[Render Template: product-detail.html]
   ├─ Show size dropdown (if applicable)
   ├─ Show color radio buttons (if applicable)
   ├─ Show default price, stock, image
   └─ Add to Cart form (hidden variant_id if variant exists)
            │
            ▼
   [User selects a SIZE from dropdown]
            │
            ▼
      AJAX POST to
   GetProductVariantView
   ├─ Filter variants by size
   ├─ Pick default variant of that size
   ├─ Fetch colors for that size
   └─ Return JSON + rendered colors HTML
            │
            ▼
   JS updates page:
   ├─ #colors-show → new colors
   ├─ #product-price → variant price
   ├─ #main-product-image → variant image
   └─ #stock-info → variant stock
            │
            ▼
   [User selects a COLOR radio button]
            │
            ▼
      AJAX POST to
   GetProductVariantView
   ├─ Fetch specific variant by variant_id
   └─ Return JSON (price, stock, image, color, size)
            │
            ▼
   JS updates page:
   ├─ #product-price → new price
   ├─ #main-product-image → new image
   └─ #stock-info → new stock
            │
            ▼
      [User clicks Add to Cart]
            │
            ▼
   Form POST to Add-to-Cart View
   ├─ If variant exists → send variant_id
   └─ Update cart with selected variant/quantity

==========================================================================================
1️⃣ Problem we are solving

একটি প্রোডাক্ট হতে পারে:

No variant – শুধু একটি price, একটি stock, একটি image।

Size variant only – বিভিন্ন size আছে, সব size এর same color।

Color variant only – শুধু color আছে, size irrelevant।

Color + Size variant – প্রতিটি size এর বিভিন্ন color, প্রতিটি color এর price, stock, image আলাদা।

Goal:

User select করলে price, stock, image real-time update হবে।

Page reload দরকার নেই।

Add to Cart form সঠিক variant নিয়ে যাবে।

2️⃣ Logic Step-by-Step
Step 1: Page Load

View (ProductDetailView) fetch করে product + variants।

যদি variant থাকে:

Pick default variant (usually first)

Fetch all sizes (grouped)

Fetch colors of default size

Logic:

User প্রথমে product page খুললেই দেখতে পায় valid size/color combination।

Default variant ensures price/stock/image already loaded।

Step 2: Template

Show dropdown for size if applicable.

Show radio buttons for colors if applicable.

Add to Cart form:

Hidden input variant_id → always points to currently selected variant

Quantity input max = current variant stock

Logic:

Template dynamic: size/color fields শুধু তখনই দেখানো হবে যখন প্রোডাক্টে আছে।

Hidden variant_id ensures Cart always gets correct variant.

Step 3: User Interaction – AJAX
A. Size change

User selects new size.

AJAX POST sends size_id + product_id → Server.

Server:

Filters all variants by product & size

Picks first variant of that size → default for that size

Fetches all colors available for that size

Server returns:

Rendered HTML of colors (rendered_colors)

Variant info (price, stock, image)

JS updates:

Colors list

Price

Image

Stock

Logic:

Size change can change available colors

Default variant of that size selected automatically

B. Color change

User selects a color (radio button).

AJAX POST sends variant_id.

Server fetches exact variant → returns JSON (price, stock, image).

JS updates page with new info.

Logic:

Every color can have different price, stock, image → must update dynamically

Ensures Add to Cart form always points to correct variant

Step 4: Add to Cart

Form submits: product_id + variant_id + quantity.

Server adds item to cart.

Logic:

Using variant_id guarantees correct combination added.

Max quantity = current variant stock → prevents over-ordering.

3️⃣ Why this works

Default variant on page load → ensures all initial fields valid

AJAX on size/color change → real-time update, no page reload

Hidden variant_id + stock logic → always correct for cart

Dynamic template → shows only relevant size/color inputs

Result: User-friendly, dynamic, fully functional product variant system


Advanced: Use Recommendation Engine / Package

যদি তুমি সামনের ধাপে যেতে চাও — machine‑learning / similarity / collaborative‑filtering ব্যবহার — তাহলে external package/engine বা নিজে logic লিখতে পারো। উদাহরণ: django-oscar-easyrec প্যাকেজ। এটি দিয়ে:

“users also viewed”, “users also bought”, “related products” ইত্যাদি template tag পাওয়া যায়। 
django-oscar-easyrec.readthedocs.io

খুব কম কোডে recommendation engine পাওয়া যায়।